{"ast":null,"code":"// const BASE_URL = \"http://localhost:8000\"; // Adjust if backend is hosted elsewhere\n\n// export async function authorize(userId, orgId) {\n//   const formData = new FormData();\n//   formData.append(\"user_id\", userId);\n//   formData.append(\"org_id\", orgId);\n\n//   const response = await fetch(`${BASE_URL}/integrations/hubspot/authorize`, {\n//     method: \"POST\",\n//     body: formData,\n//   });\n\n//   const url = await response.text();\n//   window.location.href = url;\n// }\n\n// export async function oauth2callback(queryParams) {\n//   const url = new URL(`${BASE_URL}/integrations/hubspot/oauth2callback`);\n//   queryParams.forEach((value, key) => url.searchParams.append(key, value));\n\n//   const response = await fetch(url.toString());\n//   return await response.json();\n// }\n\n// export async function getCredentials(userId, orgId) {\n//   const formData = new FormData();\n//   formData.append(\"user_id\", userId);\n//   formData.append(\"org_id\", orgId);\n\n//   const response = await fetch(`${BASE_URL}/integrations/hubspot/credentials`, {\n//     method: \"POST\",\n//     body: formData,\n//   });\n\n//   return await response.json();\n// }\n\n// export async function loadItems(credentials) {\n//   const formData = new FormData();\n//   formData.append(\"credentials\", JSON.stringify(credentials));\n\n//   const response = await fetch(`${BASE_URL}/integrations/hubspot/load`, {\n//     method: \"POST\",\n//     body: formData,\n//   });\n\n//   return await response.json();\n// }\n// src/components/HubSpotIntegration.js\n\nconst BASE_URL = \"http://localhost:8000\"; // Update if backend is hosted elsewhere\n\n// Step 1: Redirect user to HubSpot authorization\nexport async function authorize(userId, orgId) {\n  const formData = new FormData();\n  formData.append(\"user_id\", userId);\n  formData.append(\"org_id\", orgId);\n  const response = await fetch(`${BASE_URL}/integrations/hubspot/authorize`, {\n    method: \"POST\",\n    body: formData\n  });\n  const url = await response.text();\n  window.location.href = url;\n}\n\n// Step 2: Handle OAuth2 callback from HubSpot\nexport async function oauth2callback(queryParams) {\n  const url = new URL(`${BASE_URL}/integrations/hubspot/oauth2callback`);\n  queryParams.forEach((value, key) => url.searchParams.append(key, value));\n  const response = await fetch(url.toString());\n  return await response.json();\n}\n\n// Step 3: Get stored HubSpot credentials\nexport async function getCredentials(userId, orgId) {\n  const formData = new FormData();\n  formData.append(\"user_id\", userId);\n  formData.append(\"org_id\", orgId);\n  const response = await fetch(`${BASE_URL}/integrations/hubspot/credentials`, {\n    method: \"POST\",\n    body: formData\n  });\n  return await response.json();\n}\n\n// Step 4: Load items (e.g., contacts) from HubSpot\nexport async function loadItems(credentials) {\n  const formData = new FormData();\n  formData.append(\"credentials\", JSON.stringify(credentials));\n  const response = await fetch(`${BASE_URL}/integrations/hubspot/load`, {\n    method: \"POST\",\n    body: formData\n  });\n  return await response.json();\n}","map":{"version":3,"names":["BASE_URL","authorize","userId","orgId","formData","FormData","append","response","fetch","method","body","url","text","window","location","href","oauth2callback","queryParams","URL","forEach","value","key","searchParams","toString","json","getCredentials","loadItems","credentials","JSON","stringify"],"sources":["C:/Users/Rama Tulasi/Downloads/automations_technical_assessment/integrations_technical_assessment/frontend/src/integrations/hubspot.js"],"sourcesContent":["// const BASE_URL = \"http://localhost:8000\"; // Adjust if backend is hosted elsewhere\r\n\r\n// export async function authorize(userId, orgId) {\r\n//   const formData = new FormData();\r\n//   formData.append(\"user_id\", userId);\r\n//   formData.append(\"org_id\", orgId);\r\n\r\n//   const response = await fetch(`${BASE_URL}/integrations/hubspot/authorize`, {\r\n//     method: \"POST\",\r\n//     body: formData,\r\n//   });\r\n\r\n//   const url = await response.text();\r\n//   window.location.href = url;\r\n// }\r\n\r\n// export async function oauth2callback(queryParams) {\r\n//   const url = new URL(`${BASE_URL}/integrations/hubspot/oauth2callback`);\r\n//   queryParams.forEach((value, key) => url.searchParams.append(key, value));\r\n\r\n//   const response = await fetch(url.toString());\r\n//   return await response.json();\r\n// }\r\n\r\n// export async function getCredentials(userId, orgId) {\r\n//   const formData = new FormData();\r\n//   formData.append(\"user_id\", userId);\r\n//   formData.append(\"org_id\", orgId);\r\n\r\n//   const response = await fetch(`${BASE_URL}/integrations/hubspot/credentials`, {\r\n//     method: \"POST\",\r\n//     body: formData,\r\n//   });\r\n\r\n//   return await response.json();\r\n// }\r\n\r\n// export async function loadItems(credentials) {\r\n//   const formData = new FormData();\r\n//   formData.append(\"credentials\", JSON.stringify(credentials));\r\n\r\n//   const response = await fetch(`${BASE_URL}/integrations/hubspot/load`, {\r\n//     method: \"POST\",\r\n//     body: formData,\r\n//   });\r\n\r\n//   return await response.json();\r\n// }\r\n// src/components/HubSpotIntegration.js\r\n\r\nconst BASE_URL = \"http://localhost:8000\"; // Update if backend is hosted elsewhere\r\n\r\n// Step 1: Redirect user to HubSpot authorization\r\nexport async function authorize(userId, orgId) {\r\n  const formData = new FormData();\r\n  formData.append(\"user_id\", userId);\r\n  formData.append(\"org_id\", orgId);\r\n\r\n  const response = await fetch(`${BASE_URL}/integrations/hubspot/authorize`, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  });\r\n\r\n  const url = await response.text();\r\n  window.location.href = url;\r\n}\r\n\r\n// Step 2: Handle OAuth2 callback from HubSpot\r\nexport async function oauth2callback(queryParams) {\r\n  const url = new URL(`${BASE_URL}/integrations/hubspot/oauth2callback`);\r\n  queryParams.forEach((value, key) => url.searchParams.append(key, value));\r\n\r\n  const response = await fetch(url.toString());\r\n  return await response.json();\r\n}\r\n\r\n// Step 3: Get stored HubSpot credentials\r\nexport async function getCredentials(userId, orgId) {\r\n  const formData = new FormData();\r\n  formData.append(\"user_id\", userId);\r\n  formData.append(\"org_id\", orgId);\r\n\r\n  const response = await fetch(`${BASE_URL}/integrations/hubspot/credentials`, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  });\r\n\r\n  return await response.json();\r\n}\r\n\r\n// Step 4: Load items (e.g., contacts) from HubSpot\r\nexport async function loadItems(credentials) {\r\n  const formData = new FormData();\r\n  formData.append(\"credentials\", JSON.stringify(credentials));\r\n\r\n  const response = await fetch(`${BASE_URL}/integrations/hubspot/load`, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  });\r\n\r\n  return await response.json();\r\n}\r\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,MAAMA,QAAQ,GAAG,uBAAuB,CAAC,CAAC;;AAE1C;AACA,OAAO,eAAeC,SAASA,CAACC,MAAM,EAAEC,KAAK,EAAE;EAC7C,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEJ,MAAM,CAAC;EAClCE,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEH,KAAK,CAAC;EAEhC,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAER,QAAS,iCAAgC,EAAE;IACzES,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEN;EACR,CAAC,CAAC;EAEF,MAAMO,GAAG,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;EACjCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGJ,GAAG;AAC5B;;AAEA;AACA,OAAO,eAAeK,cAAcA,CAACC,WAAW,EAAE;EAChD,MAAMN,GAAG,GAAG,IAAIO,GAAG,CAAE,GAAElB,QAAS,sCAAqC,CAAC;EACtEiB,WAAW,CAACE,OAAO,CAAC,CAACC,KAAK,EAAEC,GAAG,KAAKV,GAAG,CAACW,YAAY,CAAChB,MAAM,CAACe,GAAG,EAAED,KAAK,CAAC,CAAC;EAExE,MAAMb,QAAQ,GAAG,MAAMC,KAAK,CAACG,GAAG,CAACY,QAAQ,CAAC,CAAC,CAAC;EAC5C,OAAO,MAAMhB,QAAQ,CAACiB,IAAI,CAAC,CAAC;AAC9B;;AAEA;AACA,OAAO,eAAeC,cAAcA,CAACvB,MAAM,EAAEC,KAAK,EAAE;EAClD,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEJ,MAAM,CAAC;EAClCE,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEH,KAAK,CAAC;EAEhC,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAER,QAAS,mCAAkC,EAAE;IAC3ES,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEN;EACR,CAAC,CAAC;EAEF,OAAO,MAAMG,QAAQ,CAACiB,IAAI,CAAC,CAAC;AAC9B;;AAEA;AACA,OAAO,eAAeE,SAASA,CAACC,WAAW,EAAE;EAC3C,MAAMvB,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEsB,IAAI,CAACC,SAAS,CAACF,WAAW,CAAC,CAAC;EAE3D,MAAMpB,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAER,QAAS,4BAA2B,EAAE;IACpES,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEN;EACR,CAAC,CAAC;EAEF,OAAO,MAAMG,QAAQ,CAACiB,IAAI,CAAC,CAAC;AAC9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}